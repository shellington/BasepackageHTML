!function(t){"use strict";function s(t){var s=t.parent(),e=parseInt(s.css("padding-bottom")),i=parseInt(s.css("padding-top")),o=s.offset().top;return{startOffset:o,offsetBottom:e,offsetY:i}}var e,i=window,o=document,n={scrollArea:i,duration:200,lockBottom:!0,delay:0,easing:"linear",stickToBottom:!1,cssTransition:!1},r=function(){var t,s=o.createElement("p").style,e=["ms","O","Moz","Webkit"],i="transition";if(""==s[i])return!0;for(i=i.charAt(0).toUpperCase()+i.slice(1),t=e.length;t--;)if(""==s[e[t]+i])return!0;return!1}(),f=function(s,e){this.settings=s,this.obj=t(e)};f.prototype={init:function(){if(this.obj.data("_stickyfloat"))return!1;var s=this,e=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.msRequestAnimationFrame||function(t){return i.setTimeout(t,1e3/60)};t(i).ready(function(){s.rePosition(!0),t(s.settings.scrollArea).on("scroll.sticky",function(){e(t.proxy(s.rePosition,s))}),t(i).on("resize.sticky",function(){e(s.rePosition.bind(s))})}),this.obj.data("_stickyfloat",s)},rePosition:function(t,s){var n,f,a,c=this.obj,h=this.settings,l=t===!0?0:h.duration,u=this.settings.scrollArea==i?i.scrollY?i.scrollY:o.documentElement.scrollTop:this.settings.scrollArea.scrollTop,p=this.settings.scrollArea==i?o.documentElement.offsetHeight:this.settings.scrollArea.offsetHeight;this.areaViewportHeight=this.settings.scrollArea==i?o.documentElement.clientHeight:this.settings.scrollArea.clientHeight,this.stickyHeight=c[0].clientHeight,c.stop(),h.lockBottom&&(e=c[0].parentNode.clientHeight-this.stickyHeight-h.offsetBottom),0>e&&(e=0),a=u>h.startOffset,f=c.offset().top>h.startOffset+h.offsetY,n=this.stickyHeight>this.areaViewportHeight,((a||f)&&!n||s)&&(this.newpos=h.stickToBottom?u+p-this.stickyHeight-h.startOffset-h.offsetY:u-h.startOffset+h.offsetY,this.newpos>e&&h.lockBottom&&(this.newpos=e),this.newpos<h.offsetY?this.newpos=h.offsetY:u<h.startOffset&&!h.stickToBottom&&(this.newpos=h.offsetY),5>l||h.cssTransition&&r?c[0].style.top=this.newpos+"px":c.stop().delay(h.delay).animate({top:this.newpos},l,h.easing),this.settings.onReposition&&this.settings.onReposition(this))},update:function(e){return"object"==typeof e&&(e.offsetY&&"auto"!=e.offsetY||(e.offsetY=s(this.obj).offsetY),e.startOffset&&"auto"!=e.startOffset||(e.startOffset=s(this.obj).startOffset),this.settings=t.extend({},this.settings,e),this.rePosition(!1,!0)),this.obj},destroy:function(){return t(this.settings.scrollArea).off("scroll.sticky"),t(i).off("resize.sticky"),this.obj.removeData(),this.obj}},t.fn.stickyfloat=function(e,i){return this.each(function(){var o=t(this);if("undefined"==typeof document.body.style.maxHeight)return!1;if("object"==typeof e)i=e;else if("string"==typeof e){if(o.data("_stickyfloat")&&"function"==typeof o.data("_stickyfloat")[e]){var r=o.data("_stickyfloat");return r[e](i)}return this}var a=t.extend({},n,s(o),i||{}),r=new f(a,o);r.init()})}}(jQuery);